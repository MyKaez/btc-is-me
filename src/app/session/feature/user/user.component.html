<h2>User Actions</h2>

<div *ngIf="user$ | async as user;else noUser">
  <p>Hello {{user.name}}!</p>
  <p>Your ID is {{user.id}}</p>
  <app-send-message [senderId]="user.id" (messageSend)="sendMessage($event)"></app-send-message>
</div>
<ng-template #noUser>
  <div *ngIf="loading$ | async;else enterData">
    Loading...
  </div>
  <ng-template #enterData>
    Please register as user

    <ion-item>
      <ion-input label="User Name" labelPlacement="stacked" placeholder="Enter user name"
        [formControl]="userNameControl"></ion-input>
      <ion-button fill="clear" slot="end" (click)="registerUser()"
        [disabled]="userNameControl.invalid">Register</ion-button>
    </ion-item>

  </ng-template>
</ng-template>