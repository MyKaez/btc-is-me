<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Session</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Session</ion-title>
    </ion-toolbar>
  </ion-header>

  <div id="container">

    <div *ngIf="currentSession$ | async as session;else noSession">
      <h1>Current Session</h1>

      <app-session-info [session]="session"></app-session-info>

      <div *ngIf="isSessionHost(session);else userInfo">
        <app-host [session]="session"></app-host>
      </div>
      <ng-template #userInfo>
        <app-user [session]="session" (userChange)="setUser($event)"></app-user>
      </ng-template>

      <app-message-center [session]="session" [user]="user" [hubConnection]="hubConnection"
        *ngIf="hubConnection$ | async as hubConnection"></app-message-center>
    </div>

    <ng-template #noSession>
      <div *ngIf="loading$ | async;else enterData">
        Loading...
      </div>
      <ng-template #enterData>
        Please create a session or hook up into an existing one<br />
        <app-input-session (nameChange)="registerSession($event)"></app-input-session>
      </ng-template>

    </ng-template>
  </div>
</ion-content>