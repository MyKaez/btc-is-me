<div *ngIf="currentSession$ | async as session;else noSession">
    <h1>Current Session</h1>

    <app-session-info [session]="session"></app-session-info>

    <div *ngIf="isSessionHost(session);else user">
        <h2>Host Actions</h2>
        <span *ngIf="isSessionHost(session)">
            <input type="text" [formControl]="messageControl">
            <button (click)="sendMessage(session)" [disabled]="messageControl.invalid">Click!</button>
        </span>
        <span *ngIf="currentMessage$ | async as message"> </span>
    </div>
    <ng-template #user>
        <h2>User Actions</h2>
        You're a user :)
    </ng-template>

    <h2>Shared Messages</h2>
    <ul>
        <li *ngFor="let msg of messages| async">
            {{msg}}
        </li>
    </ul>
</div>

<ng-template #noSession>
    Please create a session or hook up into an existing one<br />
    <app-session-creator (nameChange)="registerSession($event)"></app-session-creator>
</ng-template>